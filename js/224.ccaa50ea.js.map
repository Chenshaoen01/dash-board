{"version":3,"file":"js/224.ccaa50ea.js","mappings":"oMAEOA,MAAM,uB,GAEFA,MAAM,gB,GACXC,EAAAA,EAAAA,GASQ,eARNA,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,SAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,SAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,UAAE,G,SAUaF,MAAM,gB,SACtBA,MAAM,c,GAGdA,MAAM,a,8LAzBrBG,EAAAA,EAAAA,IAAqCC,EAAAA,CAApBC,OAAQC,EAAAA,U,iCAAAA,EAAAA,UAAS,I,oBAClCL,EAAAA,EAAAA,GAiCM,MAjCNM,EAiCM,EAhCJN,EAAAA,EAAAA,GAAwG,UAAhGO,KAAK,SAASR,MAAM,sCAAuCS,QAAK,eAAEC,EAAAA,WAAU,KAAO,SAC3FT,EAAAA,EAAAA,GA6BQ,QA7BRU,EA6BQ,CA5BNC,GAUAX,EAAAA,EAAAA,GAiBQ,6BAhBNY,EAAAA,EAAAA,IAeKC,EAAAA,GAAAA,MAAAA,EAAAA,EAAAA,IAfgBR,EAAAA,UAATS,K,WAAZF,EAAAA,EAAAA,IAeK,MAf2BG,IAAKD,EAAKE,I,EACxChB,EAAAA,EAAAA,GAA4B,mBAArBc,EAAKG,UAAQ,IACpBjB,EAAAA,EAAAA,GAAyB,mBAAlBc,EAAKI,OAAK,IACjBlB,EAAAA,EAAAA,GAAgC,mBAAzBc,EAAKK,cAAY,IACxBnB,EAAAA,EAAAA,GAAyB,mBAAlBc,EAAKM,OAAK,IACjBpB,EAAAA,EAAAA,GAGK,WAFSc,EAAKO,aAAU,WAA3BT,EAAAA,EAAAA,IAA4D,OAA5DU,EAAkD,UAAG,WACrDV,EAAAA,EAAAA,IAA0C,OAA1CW,EAAgC,WAElCvB,EAAAA,EAAAA,GAKK,YAJHA,EAAAA,EAAAA,GAGM,MAHNwB,EAGM,EAFJxB,EAAAA,EAAAA,GAA0F,UAAlFO,KAAK,SAASR,MAAM,0BAA2BS,QAAK,GAAEC,EAAAA,UAAUK,IAAO,KAAE,MACjFd,EAAAA,EAAAA,GAAgG,UAAxFO,KAAK,SAASR,MAAM,yBAA0BS,QAAK,GAAEC,EAAAA,cAAcK,EAAKE,KAAK,KAAE,c,WAMjGd,EAAAA,EAAAA,IAAoFuB,EAAAA,CAAvEC,mBAAoBrB,EAAAA,WAAasB,aAAYlB,EAAAA,a,iDAE5DP,EAAAA,EAAAA,IAAuG0B,EAAAA,CAAzFC,IAAI,eAAgBC,iBAAkBzB,EAAAA,YAAc0B,WAAUtB,EAAAA,Y,2CAC5EP,EAAAA,EAAAA,IAAiE8B,EAAAA,CAA1DH,IAAI,QAAQ9B,MAAM,iC,sCCpCpBA,MAAM,iBAAiBkC,SAAS,KAAKjB,GAAG,gB,GACtCjB,MAAM,gB,GACJA,MAAM,yB,GACTC,EAAAA,EAAAA,GAGM,OAHDD,MAAM,mCAAiC,EAC1CC,EAAAA,EAAAA,GAAiC,MAA7BD,MAAM,eAAc,SACxBC,EAAAA,EAAAA,GAA4G,UAApGO,KAAK,SAASR,MAAM,4BAA4B,kBAAgB,QAAQ,aAAW,Y,MAExFA,MAAM,c,GACHiB,GAAG,cAAcjB,MAAM,6BAA6BmC,WAAA,I,GACnDnC,MAAM,O,GAEJA,MAAM,gB,GACFA,MAAM,yB,GAAwBC,EAAAA,EAAAA,GAAuB,cAAf,UAAM,G,GAG5CD,MAAM,yB,GAAwBC,EAAAA,EAAAA,GAAuB,cAAf,UAAM,G,GAC1CO,KAAK,OAAOR,MAAM,eAAe8B,IAAI,Y,GAK3C9B,MAAM,Y,GACJA,MAAM,kC,GACFA,MAAM,uB,GACXC,EAAAA,EAAAA,GAA2D,wBAAnD,OAAE,OAAwC,QAAlCD,MAAM,mBAAkB,SAAG,G,GAG3CC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,oBAAmB,YAE9B,G,GAEKA,MAAM,uB,GACXC,EAAAA,EAAAA,GAAqB,cAAb,QAAI,G,GACZA,EAAAA,EAAAA,GAAI,mB,GAGCD,MAAM,uB,GACXC,EAAAA,EAAAA,GAA2D,wBAAnD,OAAE,OAAwC,QAAlCD,MAAM,mBAAkB,SAAG,G,GAG3CC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,oBAAmB,YAE9B,G,GAEKA,MAAM,uB,GACXC,EAAAA,EAAAA,GAA2D,wBAAnD,OAAE,OAAwC,QAAlCD,MAAM,mBAAkB,SAAG,G,GAE3CC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,oBAAmB,YAE9B,G,GAEKA,MAAM,uB,GACXC,EAAAA,EAAAA,GAA2D,wBAAnD,OAAE,OAAwC,QAAlCD,MAAM,mBAAkB,SAAG,G,GAG3CC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,oBAAmB,YAE9B,G,GAEKA,MAAM,uB,GACXC,EAAAA,EAAAA,GAA2D,wBAAnD,OAAE,OAAwC,QAAlCD,MAAM,mBAAkB,SAAG,G,GAG3CC,EAAAA,EAAAA,GAEM,OAFDD,MAAM,oBAAmB,YAE9B,G,GAICA,MAAM,W,GACFA,MAAM,oB,GAAmBC,EAAAA,EAAAA,GAAqB,cAAb,QAAI,G,GAIrCD,MAAM,oB,GAAmBC,EAAAA,EAAAA,GAAqB,cAAb,QAAI,G,GASjDD,MAAM,gB,IACTC,EAAAA,EAAAA,GAA2F,UAAnFO,KAAK,SAASR,MAAM,4BAA4B,kBAAgB,SAAQ,MAAE,G,2CApF1Fa,EAAAA,EAAAA,IAyFM,MAzFNN,EAyFM,EAxFJN,EAAAA,EAAAA,GAuFM,MAvFNU,EAuFM,EAtFJV,EAAAA,EAAAA,GAqFM,MArFNW,EAqFM,CApFJW,GAIAtB,EAAAA,EAAAA,GA2EM,MA3ENuB,EA2EM,EA1EJvB,EAAAA,EAAAA,GAyEO,OAzEPwB,EAyEO,EAxELxB,EAAAA,EAAAA,GAuEM,MAvENmC,EAuEM,EArEJnC,EAAAA,EAAAA,GAQM,MARNoC,EAQM,EAPJpC,EAAAA,EAAAA,GAEQ,QAFRqC,EAEQ,CAF6BC,GAAuB,SAC1DtC,EAAAA,EAAAA,GAAiG,SAA1FO,KAAK,OAAOR,MAAM,eAAewC,YAAY,U,qCAAmBlC,EAAAA,gBAAgBmC,SAAQ,I,iBAAxBnC,EAAAA,gBAAgBmC,eAEzFxC,EAAAA,EAAAA,GAEQ,QAFRyC,EAEQ,CAF6BC,GACnC1C,EAAAA,EAAAA,GAAuD,QAAvD2C,EAAuD,aAEzD3C,EAAAA,EAAAA,GAAsG,UAA9FO,KAAK,SAASR,MAAM,0CAA2CS,QAAK,oBAAEC,EAAAA,WAAAA,EAAAA,aAAAA,KAAW,WAG3FT,EAAAA,EAAAA,GA0DM,MA1DN4C,EA0DM,EAzDJ5C,EAAAA,EAAAA,GA6CM,MA7CN6C,EA6CM,EA5CJ7C,EAAAA,EAAAA,GAOQ,QAPR8C,EAOQ,CANNC,GAA2D,SAC3D/C,EAAAA,EAAAA,GACkC,SAD3BO,KAAK,OAAOR,MAAM,eAAewC,YAAY,QAAQS,SAAA,G,qCACjD3C,EAAAA,gBAAgBa,MAAK,I,iBAArBb,EAAAA,gBAAgBa,SAC3B+B,KAIFjD,EAAAA,EAAAA,GAIQ,QAJRkD,EAIQ,CAHNC,EACAC,GAAI,SACJpD,EAAAA,EAAAA,GAAoG,SAA7FD,MAAM,wBAAwBQ,KAAK,WAAW8C,MAAM,I,qCAAahD,EAAAA,gBAAgBgB,WAAU,I,iBAA1BhB,EAAAA,gBAAgBgB,eAAU,QAAE,UAEtGrB,EAAAA,EAAAA,GAOQ,QAPRsD,EAOQ,CANNC,GAA2D,SAC3DvD,EAAAA,EAAAA,GACqC,SAD9BO,KAAK,OAAOR,MAAM,eAAewC,YAAY,QAAQS,SAAA,G,qCACjD3C,EAAAA,gBAAgBY,SAAQ,I,iBAAxBZ,EAAAA,gBAAgBY,YAC3BuC,KAIFxD,EAAAA,EAAAA,GAMQ,QANRyD,EAMQ,CALNC,GAA2D,SAC3D1D,EAAAA,EAAAA,GAAoG,SAA7FO,KAAK,OAAOR,MAAM,eAAewC,YAAY,QAAQS,SAAA,G,qCAAkB3C,EAAAA,gBAAgBsD,KAAI,I,iBAApBtD,EAAAA,gBAAgBsD,QAC9FC,KAIF5D,EAAAA,EAAAA,GAOQ,QAPR6D,EAOQ,CANNC,GAA2D,SAC3D9D,EAAAA,EAAAA,GACyC,SADlCO,KAAK,SAASR,MAAM,eAAewC,YAAY,QAAQS,SAAA,G,qCACnD3C,EAAAA,gBAAgBc,aAAY,I,iBAA5Bd,EAAAA,gBAAgBc,gBAC3B4C,KAIF/D,EAAAA,EAAAA,GAOQ,QAPRgE,EAOQ,CANNC,GAA2D,SAC3DjE,EAAAA,EAAAA,GACkC,SAD3BO,KAAK,SAASR,MAAM,eAAewC,YAAY,QAAQS,SAAA,G,qCACnD3C,EAAAA,gBAAgBe,MAAK,I,iBAArBf,EAAAA,gBAAgBe,SAC3B8C,OAMJlE,EAAAA,EAAAA,GASM,MATNmE,EASM,EARJnE,EAAAA,EAAAA,GAGQ,QAHRoE,EAGQ,CAHwBC,GAAqB,SACnDrE,EAAAA,EAAAA,GACmD,YADzCD,MAAM,eAAewC,YAAY,UAAU+B,KAAK,KAAKC,KAAK,I,qCACzDlE,EAAAA,gBAAgBmE,YAAW,I,iBAA3BnE,EAAAA,gBAAgBmE,kBAE7BxE,EAAAA,EAAAA,GAGQ,QAHRyE,EAGQ,CAHwBC,GAAqB,SACnD1E,EAAAA,EAAAA,GAC+C,YADrCD,MAAM,eAAewC,YAAY,UAAU+B,KAAK,KAAKC,KAAK,I,qCACzDlE,EAAAA,gBAAgBsE,QAAO,I,iBAAvBtE,EAAAA,gBAAgBsE,wBAOvC3E,EAAAA,EAAAA,GAGM,MAHN4E,EAGM,CAFJC,IACA7E,EAAAA,EAAAA,GAA6F,UAArFO,KAAK,SAAUC,QAAK,sBAAEC,EAAAA,SAAAA,EAAAA,WAAAA,IAASV,MAAM,kBAAkB+E,KAAK,eAAc,a,2BAS5F,IACEC,OACE,MAAO,CACLC,aAAc,CAAC,EACfC,gBAAiB,CAAC,EAEtB,EACAC,MAAO,CAAC,oBACRC,MAAO,CACLrD,mBACEsD,KAAKH,gBAAkBG,KAAKtD,gBAC9B,GAEFuD,QAAS,CACPC,YACEC,QAAQC,IAAIJ,KAAKJ,cACjBI,KAAKJ,aAAaS,OAElB,MAAMC,EAAQC,SAASC,iBAAiB,qBACxCC,MAAMC,UAAUC,MAAMC,KAAKN,GACxBO,SAAQ,SAAUnB,GACjBA,EAAKoB,UAAUC,OAAO,gBACxB,GACJ,EACAC,YACEhB,KAAKJ,aAAaqB,MACpB,EACAC,QAASC,GACPhB,QAAQC,IAAI,cAEZ,MAAMgB,EAAY,KAChBpB,KAAKqB,MAAM,WAAYrB,KAAKH,gBAAgB,EAGxCS,EAAQC,SAASC,iBAAiB,qBACxCC,MAAMC,UAAUC,MAAMC,KAAKN,GACxBO,SAAQ,SAAUnB,GACjBA,EAAK4B,iBAAiB,UAAWH,IAC1BzB,EAAK6B,iBAIRJ,EAAMK,iBACNJ,MAJAD,EAAMK,iBACNL,EAAMM,mBAKR/B,EAAKoB,UAAUY,IAAI,gBAAgB,IAClC,EACL,GACJ,EACAC,YACE,MAAMC,EAAe5B,KAAK6B,MAAMC,SAASC,MAAM,GAC/C5B,QAAQ6B,IAAIJ,GACZ,MAAMjC,EAAO,IAAIsC,SACjBtC,EAAKuC,OAAO,iBAAkBN,GAE9B,MAAMO,EAAO,mEACbnC,KAAKoC,MAAMC,KAAKF,EAAKxC,GAAM2C,MAAMC,IAC/BpC,QAAQC,IAAImC,GACRA,EAAI5C,KAAK6C,SACXxC,KAAKH,gBAAgBzC,SAAWmF,EAAI5C,KAAKvC,SAC3C,GAEJ,GAEFqF,UACEzC,KAAKJ,aAAe,IAAI8C,KAAJ,CAAUnC,SAASoC,eAAe,gBACxD,EACAC,UAEA,G,SC/JF,MAAMC,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,4CF2CA,IACElD,OACE,MAAO,CACLmD,SAAU,GACVC,YAAa,CAAC,EACdC,OAAO,EACPC,WAAW,EACXC,WAAY,CAAC,EAEjB,EACAC,WAAY,CACVvD,aAAY,GAAEwD,QAAO,KAAEC,WAAU,KAAEC,MAAKA,GAAAA,GAE1CrD,QAAS,CACPsD,YAAaC,EAAO,GAClBxD,KAAKiD,WAAY,EACjB,MAAMd,EAAO,2EAAgFqB,IAE7FxD,KAAKoC,MAAMqB,IAAItB,GAAKG,MAAMC,IACxBvC,KAAKiD,WAAY,EACjBjD,KAAK8C,SAAWP,EAAI5C,KAAKmD,SACzB9C,KAAKkD,WAAaX,EAAI5C,KAAKuD,UAAS,GAExC,EACAQ,UAAWC,IACQ,IAAbA,GACF3D,KAAKgD,OAAQ,EACbhD,KAAK+C,YAAc,CAAC,IAEpB/C,KAAKgD,OAAQ,EACbhD,KAAK+C,YAAcY,GAGrB3D,KAAK6B,MAAMjC,aAAaM,WAC1B,EACA0D,UAAWC,EAASC,GAClB3D,QAAQC,IAAIyD,EAASC,GACrB9D,KAAK6B,MAAMkC,MAAMC,UAAUH,EAASC,EACtC,EACAG,WAAYvI,GACV,IAAmB,IAAfsE,KAAKgD,MAAgB,CACvBhD,KAAK6B,MAAMjC,aAAaoB,YACxB,MAAMrB,EAAO,CAAEA,KAAMjE,GACfyG,EAAO,oEACbnC,KAAKoC,MAAMC,KAAKF,EAAKxC,GAAM2C,MAAMC,IAC/BpC,QAAQC,IAAImC,GACZvC,KAAK4D,UAAUrB,EAAI5C,KAAKkE,QAAStB,EAAI5C,KAAKmE,SAC1C9D,KAAKuD,aAAY,GAErB,MAAO,IAAmB,IAAfvD,KAAKgD,MAAiB,CAC/BhD,KAAK6B,MAAMjC,aAAaoB,YACxB,MAAMrB,EAAO,CAAEA,KAAMjE,GACfyG,EAAO,qEAA0EzG,EAAKE,KAC5FuE,QAAQC,IAAIT,GACZQ,QAAQC,IAAI+B,GACZnC,KAAKoC,MAAM8B,IAAI/B,EAAKxC,GAAM2C,MAAMC,IAC9BpC,QAAQC,IAAImC,GACZvC,KAAK4D,YACL5D,KAAKuD,aAAY,GAErB,CACF,EACAY,cAAevI,GACb,MAAMuG,EAAO,qEAA0EvG,IACvFuE,QAAQC,IAAI+B,GACZnC,KAAKoC,MAAMgC,OAAOjC,GAAKG,MAAMC,IAC3BpC,QAAQC,IAAImC,GACZvC,KAAKuD,aAAY,GAErB,GAEFX,UACE5C,KAAKuD,aACP,GGtHF,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASc,KAEpE,S","sources":["webpack://dash-board2/./src/views/ProductsList.vue","webpack://dash-board2/./src/components/ProductsModal.vue","webpack://dash-board2/./src/components/ProductsModal.vue?ec99","webpack://dash-board2/./src/views/ProductsList.vue?b55d"],"sourcesContent":["<template>\r\n  <loading v-model:active=\"isLoading\"/>\r\n  <div class=\"container mt-5 mb-5\">\r\n    <button type=\"button\" class=\"btn btn-primary mb-3 d-flex ms-auto\" @click=\"openModal(true)\">新增產品</button>\r\n    <table class=\"table border\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">分類</th>\r\n          <th scope=\"col\">產品名稱</th>\r\n          <th scope=\"col\">原價</th>\r\n          <th scope=\"col\">售價</th>\r\n          <th scope=\"col\">是否啟用</th>\r\n          <th scope=\"col\">編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item) in products\" :key=\"item.id\">\r\n          <td>{{ item.category }}</td>\r\n          <td>{{ item.title }}</td>\r\n          <td>{{ item.origin_price }}</td>\r\n          <td>{{ item.price }}</td>\r\n          <td>\r\n            <span v-if=\"item.is_enabled\" class=\"text-primary\">已啟用</span>\r\n            <span v-else class=\"text-muted\">未啟用</span>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group\">\r\n              <button type=\"button\" class=\"btn btn-outline-primary\" @click=\"openModal(item)\">編輯</button>\r\n              <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"deleteProduct(item.id)\">刪除</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <pageButton :paginationReceived=\"pagination\" @changePage=\"getProducts\"></pageButton>\r\n  </div>\r\n  <productModal ref=\"productModal\" :productsReceived=\"tempProduct\" @sentData=\"updateData\"></productModal>\r\n  <Toast ref=\"toast\" class=\"position-absolute top-0 end-0\"></Toast>\r\n</template>\r\n\r\n<script>\r\nimport productModal from '../components/ProductsModal.vue'\r\n// 讀取中樣式\r\nimport Loading from 'vue-loading-overlay'\r\nimport 'vue-loading-overlay/dist/css/index.css'\r\n// 分頁按鈕\r\nimport pageButton from '../components/PageButton.vue'\r\n// 吐司元件\r\nimport Toast from '../components/Toast.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      tempProduct: {},\r\n      isNew: true,\r\n      isLoading: false,\r\n      pagination: {}\r\n    }\r\n  },\r\n  components: {\r\n    productModal, Loading, pageButton, Toast\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_PATH}api/${process.env.VUE_APP_API}/admin/products?page=${page}`\r\n      // const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}admin/products/all`\r\n      this.axios.get(api).then((res) => {\r\n        this.isLoading = false\r\n        this.products = res.data.products\r\n        this.pagination = res.data.pagination\r\n      })\r\n    },\r\n    openModal (openData) {\r\n      if (openData === true) {\r\n        this.isNew = true\r\n        this.tempProduct = {}\r\n      } else {\r\n        this.isNew = false\r\n        this.tempProduct = openData\r\n      }\r\n\r\n      this.$refs.productModal.modalShow()\r\n    },\r\n    openToast (success, message) {\r\n      console.log(success, message)\r\n      this.$refs.toast.toastShow(success, message)\r\n    },\r\n    updateData (item) {\r\n      if (this.isNew === true) {\r\n        this.$refs.productModal.modalHide()\r\n        const data = { data: item }\r\n        const api = `${process.env.VUE_APP_PATH}api/${process.env.VUE_APP_API}/admin/product`\r\n        this.axios.post(api, data).then((res) => {\r\n          console.log(res)\r\n          this.openToast(res.data.success, res.data.message)\r\n          this.getProducts()\r\n        })\r\n      } else if (this.isNew === false) {\r\n        this.$refs.productModal.modalHide()\r\n        const data = { data: item }\r\n        const api = `${process.env.VUE_APP_PATH}api/${process.env.VUE_APP_API}/admin/product/${item.id}`\r\n        console.log(data)\r\n        console.log(api)\r\n        this.axios.put(api, data).then((res) => {\r\n          console.log(res)\r\n          this.openToast()\r\n          this.getProducts()\r\n        })\r\n      }\r\n    },\r\n    deleteProduct (id) {\r\n      const api = `${process.env.VUE_APP_PATH}api/${process.env.VUE_APP_API}/admin/product/${id}`\r\n      console.log(api)\r\n      this.axios.delete(api).then((res) => {\r\n        console.log(res)\r\n        this.getProducts()\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"modal modal-xl\" tabindex=\"-1\" id=\"productModal\">\r\n    <div class=\"modal-dialog\">\r\n      <div class=\"modal-content my-auto\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\">新增產品</h5>\r\n          <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form id=\"productForm\" class=\"contianer needs-validation\" novalidate>\r\n            <div class=\"row\">\r\n              <!-- 圖片資料 -->\r\n              <div class=\"col-lg-4 p-3\">\r\n                <label class=\"form-label w-100 mb-3\"><strong>輸入圖片連結</strong>\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"請輸入圖片連結\" v-model=\"productModified.imageUrl\">\r\n                </label>\r\n                <label class=\"form-label w-100 mb-3\"><strong>或 上傳圖片</strong>\r\n                  <input type=\"file\" class=\"form-control\" ref=\"imgInput\">\r\n                </label>\r\n                <button type=\"button\" class=\"btn btn-outline-primary rounded-0 w-100\" @click=\"imgUpload\">新增圖片</button>\r\n              </div>\r\n              <!-- 產品基本資料 -->\r\n              <div class=\"col-lg-8\">\r\n                <div class=\"row g-2 border-bottom p-2 mb-2\">\r\n                  <label class=\"form-label col-md-6\">\r\n                    <strong>標題<span class=\"text-muted ms-1\">*必填</span></strong>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"請輸入標題\" required\r\n                      v-model=\"productModified.title\">\r\n                    <div class=\"invalid-feedback\">\r\n                      此欄位為必填\r\n                    </div>\r\n                  </label>\r\n                  <label class=\"form-label col-md-6\">\r\n                    <strong>是否啟用</strong>\r\n                    <br>\r\n                    <input class=\"form-check-input me-3\" type=\"checkbox\" value=\"1\" v-model=\"productModified.is_enabled\">啟用\r\n                  </label>\r\n                  <label class=\"form-label col-md-6\">\r\n                    <strong>分類<span class=\"text-muted ms-1\">*必填</span></strong>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"請輸入分類\" required\r\n                      v-model=\"productModified.category\">\r\n                    <div class=\"invalid-feedback\">\r\n                      此欄位為必填\r\n                    </div>\r\n                  </label>\r\n                  <label class=\"form-label col-md-6\">\r\n                    <strong>單位<span class=\"text-muted ms-1\">*必填</span></strong>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"請輸入單位\" required v-model=\"productModified.unit\">\r\n                    <div class=\"invalid-feedback\">\r\n                      此欄位為必填\r\n                    </div>\r\n                  </label>\r\n                  <label class=\"form-label col-md-6\">\r\n                    <strong>原價<span class=\"text-muted ms-1\">*必填</span></strong>\r\n                    <input type=\"number\" class=\"form-control\" placeholder=\"請輸入原價\" required\r\n                      v-model=\"productModified.origin_price\">\r\n                    <div class=\"invalid-feedback\">\r\n                      此欄位為必填\r\n                    </div>\r\n                  </label>\r\n                  <label class=\"form-label col-md-6\">\r\n                    <strong>售價<span class=\"text-muted ms-1\">*必填</span></strong>\r\n                    <input type=\"number\" class=\"form-control\" placeholder=\"請輸入售價\" required\r\n                      v-model=\"productModified.price\">\r\n                    <div class=\"invalid-feedback\">\r\n                      此欄位為必填\r\n                    </div>\r\n                  </label>\r\n                </div>\r\n                <!-- 產品描述 -->\r\n                <div class=\"row g-1\">\r\n                  <label class=\"form-label w-100\"><strong>產品描述</strong>\r\n                    <textarea class=\"form-control\" placeholder=\"請輸入產品描述\" cols=\"30\" rows=\"2\"\r\n                      v-model=\"productModified.description\"></textarea>\r\n                  </label>\r\n                  <label class=\"form-label w-100\"><strong>說明內容</strong>\r\n                    <textarea class=\"form-control\" placeholder=\"請輸入說明內容\" cols=\"30\" rows=\"2\"\r\n                      v-model=\"productModified.content\"></textarea>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n          <button type=\"submit\" @click=\"confirm\" class=\"btn btn-primary\" form=\"productForm\">確認</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  data () {\r\n    return {\r\n      productModal: {},\r\n      productModified: {}\r\n    }\r\n  },\r\n  props: ['productsReceived'],\r\n  watch: {\r\n    productsReceived () {\r\n      this.productModified = this.productsReceived\r\n    }\r\n  },\r\n  methods: {\r\n    modalShow () {\r\n      console.log(this.productModal)\r\n      this.productModal.show()\r\n\r\n      const forms = document.querySelectorAll('.needs-validation')\r\n      Array.prototype.slice.call(forms)\r\n        .forEach(function (form) {\r\n          form.classList.remove('was-validated')\r\n        })\r\n    },\r\n    modalHide () {\r\n      this.productModal.hide()\r\n    },\r\n    confirm (event) {\r\n      console.log('validation')\r\n      // 若成功通過驗證執行以下程式\r\n      const confirmed = () => {\r\n        this.$emit('sentData', this.productModified)\r\n      }\r\n      // 表單驗證\r\n      const forms = document.querySelectorAll('.needs-validation')\r\n      Array.prototype.slice.call(forms)\r\n        .forEach(function (form) {\r\n          form.addEventListener('submit', (event) => {\r\n            if (!form.checkValidity()) {\r\n              event.preventDefault()\r\n              event.stopPropagation()\r\n            } else {\r\n              event.preventDefault()\r\n              confirmed()\r\n            }\r\n            form.classList.add('was-validated')\r\n          }, false)\r\n        })\r\n    },\r\n    imgUpload () {\r\n      const ImgInputFile = this.$refs.imgInput.files[0]\r\n      console.dir(ImgInputFile)\r\n      const data = new FormData()\r\n      data.append('file-to-upload', ImgInputFile)\r\n      // 上傳圖片\r\n      const api = `${process.env.VUE_APP_PATH}api/${process.env.VUE_APP_API}/admin/upload`\r\n      this.axios.post(api, data).then((res) => {\r\n        console.log(res)\r\n        if (res.data.sucess) {\r\n          this.productModified.imageUrl = res.data.imageUrl\r\n        }\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.productModal = new Modal(document.getElementById('productModal'))\r\n  },\r\n  created () {\r\n\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductsModal.vue?vue&type=template&id=00858adc\"\nimport script from \"./ProductsModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\dash-board - git\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsList.vue?vue&type=template&id=4781b2a1\"\nimport script from \"./ProductsList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\dash-board - git\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","_createVNode","_component_loading","active","$data","_hoisted_1","type","onClick","$options","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","item","key","id","category","title","origin_price","price","is_enabled","_hoisted_4","_hoisted_5","_hoisted_6","_component_pageButton","paginationReceived","onChangePage","_component_productModal","ref","productsReceived","onSentData","_component_Toast","tabindex","novalidate","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","placeholder","imageUrl","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","required","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","value","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","unit","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","cols","rows","description","_hoisted_37","_hoisted_38","content","_hoisted_39","_hoisted_40","form","data","productModal","productModified","props","watch","this","methods","modalShow","console","log","show","forms","document","querySelectorAll","Array","prototype","slice","call","forEach","classList","remove","modalHide","hide","confirm","event","confirmed","$emit","addEventListener","checkValidity","preventDefault","stopPropagation","add","imgUpload","ImgInputFile","$refs","imgInput","files","dir","FormData","append","api","axios","post","then","res","sucess","mounted","Modal","getElementById","created","__exports__","products","tempProduct","isNew","isLoading","pagination","components","Loading","pageButton","Toast","getProducts","page","get","openModal","openData","openToast","success","message","toast","toastShow","updateData","put","deleteProduct","delete","render"],"sourceRoot":""}